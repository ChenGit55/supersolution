{% extends 'base.html' %}
{% load static %}
{% block title %}{% endblock %}
{% block head %}{% endblock %}
{% block body %}
    <h1>Nova Venda</h1>

    <form action="." method="POST">{% csrf_token %}
        <p>Vendedor: {{ user.username }} - Loja: {{ user.store }}</p>

        <select name="product-select" id="product-select">
            <option value="">---------</option>
            {% for choice in form.product.field.queryset %}
                <option value="{{ choice.id }}" data-price="{{ choice.price }}">{{ choice.title }}</option>
            {% endfor %}
        </select>
        <input type="text" id="product-price">
        <input type="number" id="product-quantity">
        <input type="button" id="add-product-button" value="Adicionar Produto">
    </form>
    <table>
        <thead>
            <tr>
                <th style="padding-left: 15px">PRODUTO</th>
                <th style="padding-left: 15px">PREÃ‡O</th>
                <th style="padding-left: 15px">QUANTIDADE</th>
                <th style="padding-left: 15px">TOTAL</th>
            </tr>
        </thead>
        <tbody id="inovice"></tbody>
    </table>
    <hr>
    Total: <span id="inovice-total"></span>
    <form action="." method="POST">{% csrf_token %}

        <input type="hidden" name="product_ids" id="product-ids">
        <input type="hidden" name="product_prices" id="product-prices">
        <input type="hidden" name="quantities" id="quantities">

        <input type="submit" name="close-inovice" id="close-inovice" value="Confirmar">
    </form>
    <script src="{% static 'pos/js/pos.js' %}"></script>
{% endblock %}
{% block footer %}
{% endblock %}
